# SimpleParser

В данной курсовой работе представлено углубленное рассмотрение парсера новостной группы ВК (ВКонтакте). 

Архитектура парсера групп включает в себя несколько компонентов, которые совместно работают над извлечением и обработкой данных со страниц групп ВК. Вот подробное объяснение архитектуры:

1. Первый этап — это настройка токена доступа для получения любой информации по ВК API.
Первый шаг – это регистрация своего приложения в вк, через которое мы будем получать доступ к информации.

2. Для анализа тех или иных данных полученных из вк api мы будем использовать библиотеку vk_api, так как данная библиотека при обращении к тем или иным запросам всегда возвращает данные в виде JSON формата, что делает чтение нужных колонок в разы удобнее.

3. После извлечения соответствующих данных их можно сохранить в структурированном формате базы данных. Это позволяет легко находить и анализировать проанализированную информацию в дальнейшем.

В нашем случае мы будем использовать базу данных Postgresql на удаленном сервере customer.elephantsql.com, чтобы иметь возможность быстро применить скрипт парсера из любого компьютера без разворачивания ядра базы данных.

4. Архитектура используемой базы данных для сохранения данных о постах состоит из 2 таблиц.

Таблица post состоит из следующих колонок:
1) code – колонка реализующая id в виде текста. Текст принимает зашифрованный ключ.
2) text – колонка, реализующая текст поста.
3) owner_id– колонка, реализующая id владельца записи.
4) comments_count– колонка, реализующая количество комментариев под постом (всё дерево комментариев).
5) date– колонка, реализующая дату оставленного поста.

Таблица comment _post состоит из следующих колонок:
1) id – колонка реализующая числовой самозаполняющийся индефикатор id 
2) text – колонка, реализующая текст комментария.
3) post_id– колонка, реализующая id оставленного поста.
4) comment_id– колонка, реализующая id оставленного комментария.
5) date– колонка, реализующая дату оставленного комментария.


5. Обработка ошибок. Должны быть реализованы надежные механизмы обработки ошибок для обработки таких случаев, как невозможность записи в базу данных, изменения структуры страницы. 
Так как библиотека используемая api vk возвращает json формат, то изменения формата хранения информации на странице вк не станут помехой при обращении к запросам.
Если по каким, то причинам не удастся сделать запись в базу данных, то данную ошибку мы обработаем и зафиксируем при помощи конструкции try catch. После обработки скрипт продолжит свою работу в штатном режиме.
